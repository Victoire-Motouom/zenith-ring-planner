import{r as n,t as r,d as o,j as e,C as l,g as c,h,F as m,i as x,B as p}from"./index-Bwl7mqWd.js";import{u}from"./dexie-react-hooks-I5uuTxWo.js";import{T as g}from"./textarea-ChZngsuh.js";import{S as j}from"./scroll-area-C_hEoyja.js";import{f}from"./format-DIePDvv_.js";import"./index-D5KKpL3l.js";import"./index-BdQq_4o_.js";const A=()=>{const[s,i]=n.useState(""),a=u(()=>o.insights.orderBy("createdAt").reverse().toArray(),[]),d=n.useCallback(async()=>{if(s.trim()===""){r({title:"Insight cannot be empty",variant:"destructive"});return}try{await o.insights.add({content:s,createdAt:new Date}),i(""),r({title:"Insight Captured",description:"Your thought has been saved to the Void Ring."})}catch(t){console.error("Failed to add insight:",t),r({title:"Error",description:"Could not save your insight. Please try again.",variant:"destructive"})}},[s]);return e.jsxs(l,{className:"w-full",children:[e.jsxs(c,{children:[e.jsx(h,{children:"Insight Log"}),e.jsx(m,{children:"The Void Ring: Capture spontaneous thoughts and fleeting ideas."})]}),e.jsxs(x,{children:[e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx(g,{placeholder:"What is on your mind?",value:s,onChange:t=>i(t.target.value),className:"min-h-[100px]"}),e.jsx(p,{onClick:d,className:"self-end",children:"Capture Insight"})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Logbook"}),e.jsx(j,{className:"h-[400px] w-full pr-4",children:e.jsx("div",{className:"space-y-4",children:a&&a.length>0?a.map(t=>e.jsxs("div",{className:"p-4 bg-muted rounded-lg shadow-sm",children:[e.jsx("p",{className:"text-sm text-foreground whitespace-pre-wrap",children:t.content}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2 text-right",children:f(t.createdAt,"PPP p")})]},t.id)):e.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[e.jsx("p",{children:"Your logbook is empty."}),e.jsx("p",{className:"text-xs",children:"The void awaits your thoughts."})]})})})]})]})]})};export{A as default};
