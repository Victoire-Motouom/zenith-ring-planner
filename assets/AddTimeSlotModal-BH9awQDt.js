import{c as Yt,a as tt,u as Ht,j as a,R as zt,b as qt,d as $t,e as rt,P as nt,f as ie,A as ot,g as at,h as Kt,i as Vt,k as Ut,l as Gt,m as Zt,F as Jt,D as Qt,C as Xt,n as er,o as ce,p as tr,q as rr,r as Ve,L as F,S as st,s as lt,t as it,v as ct,w as J,I as le,B as $,x as nr,y as je,z as or,E as Z,G as re,H as ar,J as sr,K as lr,M as ir,N as cr,O as dr}from"./index-BAQxK_E1.js";import{r as v}from"./react-BhhCY37T.js";import{b as E,c as Re,d as Ue,g as ur,h as L,i as de,j as Ie,k as dt,l as R,m as I,a as Ce,n as H,o as fr,p as De,q as vr,f as K,r as Te,t as mr,v as hr,w as pr,x as yr,y as ke,z as Ge,A as gr,B as ut,C as ft,E as Ee,F as We,G as xr,H as br,I as vt,u as Ze}from"./vendor-C2wpnH9a.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=Yt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var xe="Popover",[mt,_o]=qt(xe,[tt]),ue=tt(),[wr,V]=mt(xe),ht=e=>{const{__scopePopover:n,children:r,open:t,defaultOpen:o,onOpenChange:s,modal:l=!1}=e,i=ue(n),c=v.useRef(null),[d,u]=v.useState(!1),[f,m]=Ht({prop:t,defaultProp:o??!1,onChange:s,caller:xe});return a.jsx(zt,{...i,children:a.jsx(wr,{scope:n,contentId:$t(),triggerRef:c,open:f,onOpenChange:m,onOpenToggle:v.useCallback(()=>m(p=>!p),[m]),hasCustomAnchor:d,onCustomAnchorAdd:v.useCallback(()=>u(!0),[]),onCustomAnchorRemove:v.useCallback(()=>u(!1),[]),modal:l,children:r})})};ht.displayName=xe;var pt="PopoverAnchor",Nr=v.forwardRef((e,n)=>{const{__scopePopover:r,...t}=e,o=V(pt,r),s=ue(r),{onCustomAnchorAdd:l,onCustomAnchorRemove:i}=o;return v.useEffect(()=>(l(),()=>i()),[l,i]),a.jsx(ot,{...s,...t,ref:n})});Nr.displayName=pt;var yt="PopoverTrigger",gt=v.forwardRef((e,n)=>{const{__scopePopover:r,...t}=e,o=V(yt,r),s=ue(r),l=rt(n,o.triggerRef),i=a.jsx(nt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Nt(o.open),...t,ref:l,onClick:ie(e.onClick,o.onOpenToggle)});return o.hasCustomAnchor?i:a.jsx(ot,{asChild:!0,...s,children:i})});gt.displayName=yt;var Fe="PopoverPortal",[jr,Cr]=mt(Fe,{forceMount:void 0}),xt=e=>{const{__scopePopover:n,forceMount:r,children:t,container:o}=e,s=V(Fe,n);return a.jsx(jr,{scope:n,forceMount:r,children:a.jsx(at,{present:r||s.open,children:a.jsx(Kt,{asChild:!0,container:o,children:t})})})};xt.displayName=Fe;var ne="PopoverContent",bt=v.forwardRef((e,n)=>{const r=Cr(ne,e.__scopePopover),{forceMount:t=r.forceMount,...o}=e,s=V(ne,e.__scopePopover);return a.jsx(at,{present:t||s.open,children:s.modal?a.jsx(Mr,{...o,ref:n}):a.jsx(Sr,{...o,ref:n})})});bt.displayName=ne;var kr=Gt("PopoverContent.RemoveScroll"),Mr=v.forwardRef((e,n)=>{const r=V(ne,e.__scopePopover),t=v.useRef(null),o=rt(n,t),s=v.useRef(!1);return v.useEffect(()=>{const l=t.current;if(l)return Vt(l)},[]),a.jsx(Ut,{as:kr,allowPinchZoom:!0,children:a.jsx(_t,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ie(e.onCloseAutoFocus,l=>{var i;l.preventDefault(),s.current||(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:ie(e.onPointerDownOutside,l=>{const i=l.detail.originalEvent,c=i.button===0&&i.ctrlKey===!0,d=i.button===2||c;s.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:ie(e.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})})}),Sr=v.forwardRef((e,n)=>{const r=V(ne,e.__scopePopover),t=v.useRef(!1),o=v.useRef(!1);return a.jsx(_t,{...e,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var l,i;(l=e.onCloseAutoFocus)==null||l.call(e,s),s.defaultPrevented||(t.current||(i=r.triggerRef.current)==null||i.focus(),s.preventDefault()),t.current=!1,o.current=!1},onInteractOutside:s=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(t.current=!0,s.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const l=s.target;((d=r.triggerRef.current)==null?void 0:d.contains(l))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&o.current&&s.preventDefault()}})}),_t=v.forwardRef((e,n)=>{const{__scopePopover:r,trapFocus:t,onOpenAutoFocus:o,onCloseAutoFocus:s,disableOutsidePointerEvents:l,onEscapeKeyDown:i,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...f}=e,m=V(ne,r),p=ue(r);return Zt(),a.jsx(Jt,{asChild:!0,loop:!0,trapped:t,onMountAutoFocus:o,onUnmountAutoFocus:s,children:a.jsx(Qt,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:u,onEscapeKeyDown:i,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>m.onOpenChange(!1),children:a.jsx(Xt,{"data-state":Nt(m.open),role:"dialog",id:m.contentId,...p,...f,ref:n,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),wt="PopoverClose",Pr=v.forwardRef((e,n)=>{const{__scopePopover:r,...t}=e,o=V(wt,r);return a.jsx(nt.button,{type:"button",...t,ref:n,onClick:ie(e.onClick,()=>o.onOpenChange(!1))})});Pr.displayName=wt;var Or="PopoverArrow",Dr=v.forwardRef((e,n)=>{const{__scopePopover:r,...t}=e,o=ue(r);return a.jsx(er,{...o,...t,ref:n})});Dr.displayName=Or;function Nt(e){return e?"open":"closed"}var Tr=ht,Rr=gt,Ir=xt,jt=bt;const Er=Tr,Wr=Rr,Ct=v.forwardRef(({className:e,align:n="center",sideOffset:r=4,...t},o)=>a.jsx(Ir,{children:a.jsx(jt,{ref:o,align:n,sideOffset:r,className:ce("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t})}));Ct.displayName=jt.displayName;var w=function(){return w=Object.assign||function(n){for(var r,t=1,o=arguments.length;t<o;t++){r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])}return n},w.apply(this,arguments)};function Fr(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(r[t[o]]=e[t[o]]);return r}function kt(e,n,r){for(var t=0,o=n.length,s;t<o;t++)(s||!(t in n))&&(s||(s=Array.prototype.slice.call(n,0,t)),s[t]=n[t]);return e.concat(s||Array.prototype.slice.call(n))}function fe(e){return e.mode==="multiple"}function ve(e){return e.mode==="range"}function be(e){return e.mode==="single"}var Ar={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function Lr(e,n){return K(e,"LLLL y",n)}function Br(e,n){return K(e,"d",n)}function Yr(e,n){return K(e,"LLLL",n)}function Hr(e){return"".concat(e)}function zr(e,n){return K(e,"cccccc",n)}function qr(e,n){return K(e,"yyyy",n)}var $r=Object.freeze({__proto__:null,formatCaption:Lr,formatDay:Br,formatMonthCaption:Yr,formatWeekNumber:Hr,formatWeekdayName:zr,formatYearCaption:qr}),Kr=function(e,n,r){return K(e,"do MMMM (EEEE)",r)},Vr=function(){return"Month: "},Ur=function(){return"Go to next month"},Gr=function(){return"Go to previous month"},Zr=function(e,n){return K(e,"cccc",n)},Jr=function(e){return"Week n. ".concat(e)},Qr=function(){return"Year: "},Xr=Object.freeze({__proto__:null,labelDay:Kr,labelMonthDropdown:Vr,labelNext:Ur,labelPrevious:Gr,labelWeekNumber:Jr,labelWeekday:Zr,labelYearDropdown:Qr});function en(){var e="buttons",n=Ar,r=ur,t={},o={},s=1,l={},i=new Date;return{captionLayout:e,classNames:n,formatters:$r,labels:Xr,locale:r,modifiersClassNames:t,modifiers:o,numberOfMonths:s,styles:l,today:i,mode:"default"}}function tn(e){var n=e.fromYear,r=e.toYear,t=e.fromMonth,o=e.toMonth,s=e.fromDate,l=e.toDate;return t?s=E(t):n&&(s=new Date(n,0,1)),o?l=Re(o):r&&(l=new Date(r,11,31)),{fromDate:s?Ue(s):void 0,toDate:l?Ue(l):void 0}}var Mt=v.createContext(void 0);function rn(e){var n,r=e.initialProps,t=en(),o=tn(r),s=o.fromDate,l=o.toDate,i=(n=r.captionLayout)!==null&&n!==void 0?n:t.captionLayout;i!=="buttons"&&(!s||!l)&&(i="buttons");var c;(be(r)||fe(r)||ve(r))&&(c=r.onSelect);var d=w(w(w({},t),r),{captionLayout:i,classNames:w(w({},t.classNames),r.classNames),components:w({},r.components),formatters:w(w({},t.formatters),r.formatters),fromDate:s,labels:w(w({},t.labels),r.labels),mode:r.mode||t.mode,modifiers:w(w({},t.modifiers),r.modifiers),modifiersClassNames:w(w({},t.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:w(w({},t.styles),r.styles),toDate:l});return a.jsx(Mt.Provider,{value:d,children:e.children})}function k(){var e=v.useContext(Mt);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function St(e){var n=k(),r=n.locale,t=n.classNames,o=n.styles,s=n.formatters.formatCaption;return a.jsx("div",{className:t.caption_label,style:o.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:s(e.displayMonth,{locale:r})})}function nn(e){return a.jsx("svg",w({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:a.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Pt(e){var n,r,t=e.onChange,o=e.value,s=e.children,l=e.caption,i=e.className,c=e.style,d=k(),u=(r=(n=d.components)===null||n===void 0?void 0:n.IconDropdown)!==null&&r!==void 0?r:nn;return a.jsxs("div",{className:i,style:c,children:[a.jsx("span",{className:d.classNames.vhidden,children:e["aria-label"]}),a.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:o,onChange:t,children:s}),a.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[l,a.jsx(u,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function on(e){var n,r=k(),t=r.fromDate,o=r.toDate,s=r.styles,l=r.locale,i=r.formatters.formatMonthCaption,c=r.classNames,d=r.components,u=r.labels.labelMonthDropdown;if(!t)return a.jsx(a.Fragment,{});if(!o)return a.jsx(a.Fragment,{});var f=[];if(yr(t,o))for(var m=E(t),p=t.getMonth();p<=o.getMonth();p++)f.push(ke(m,p));else for(var m=E(new Date),p=0;p<=11;p++)f.push(ke(m,p));var h=function(b){var C=Number(b.target.value),M=ke(E(e.displayMonth),C);e.onChange(M)},_=(n=d==null?void 0:d.Dropdown)!==null&&n!==void 0?n:Pt;return a.jsx(_,{name:"months","aria-label":u(),className:c.dropdown_month,style:s.dropdown_month,onChange:h,value:e.displayMonth.getMonth(),caption:i(e.displayMonth,{locale:l}),children:f.map(function(b){return a.jsx("option",{value:b.getMonth(),children:i(b,{locale:l})},b.getMonth())})})}function an(e){var n,r=e.displayMonth,t=k(),o=t.fromDate,s=t.toDate,l=t.locale,i=t.styles,c=t.classNames,d=t.components,u=t.formatters.formatYearCaption,f=t.labels.labelYearDropdown,m=[];if(!o)return a.jsx(a.Fragment,{});if(!s)return a.jsx(a.Fragment,{});for(var p=o.getFullYear(),h=s.getFullYear(),_=p;_<=h;_++)m.push(Ge(gr(new Date),_));var b=function(M){var B=Ge(E(r),Number(M.target.value));e.onChange(B)},C=(n=d==null?void 0:d.Dropdown)!==null&&n!==void 0?n:Pt;return a.jsx(C,{name:"years","aria-label":f(),className:c.dropdown_year,style:i.dropdown_year,onChange:b,value:r.getFullYear(),caption:u(r,{locale:l}),children:m.map(function(M){return a.jsx("option",{value:M.getFullYear(),children:u(M,{locale:l})},M.getFullYear())})})}function sn(e,n){var r=v.useState(e),t=r[0],o=r[1],s=n===void 0?t:n;return[s,o]}function ln(e){var n=e.month,r=e.defaultMonth,t=e.today,o=n||r||t||new Date,s=e.toDate,l=e.fromDate,i=e.numberOfMonths,c=i===void 0?1:i;if(s&&de(s,o)<0){var d=-1*(c-1);o=L(s,d)}return l&&de(o,l)<0&&(o=l),E(o)}function cn(){var e=k(),n=ln(e),r=sn(n,e.month),t=r[0],o=r[1],s=function(l){var i;if(!e.disableNavigation){var c=E(l);o(c),(i=e.onMonthChange)===null||i===void 0||i.call(e,c)}};return[t,s]}function dn(e,n){for(var r=n.reverseMonths,t=n.numberOfMonths,o=E(e),s=E(L(o,t)),l=de(s,o),i=[],c=0;c<l;c++){var d=L(o,c);i.push(d)}return r&&(i=i.reverse()),i}function un(e,n){if(!n.disableNavigation){var r=n.toDate,t=n.pagedNavigation,o=n.numberOfMonths,s=o===void 0?1:o,l=t?s:1,i=E(e);if(!r)return L(i,l);var c=de(r,e);if(!(c<s))return L(i,l)}}function fn(e,n){if(!n.disableNavigation){var r=n.fromDate,t=n.pagedNavigation,o=n.numberOfMonths,s=o===void 0?1:o,l=t?s:1,i=E(e);if(!r)return L(i,-l);var c=de(i,r);if(!(c<=0))return L(i,-l)}}var Ot=v.createContext(void 0);function vn(e){var n=k(),r=cn(),t=r[0],o=r[1],s=dn(t,n),l=un(t,n),i=fn(t,n),c=function(f){return s.some(function(m){return Ie(f,m)})},d=function(f,m){c(f)||(m&&dt(f,m)?o(L(f,1+n.numberOfMonths*-1)):o(f))},u={currentMonth:t,displayMonths:s,goToMonth:o,goToDate:d,previousMonth:i,nextMonth:l,isDateDisplayed:c};return a.jsx(Ot.Provider,{value:u,children:e.children})}function me(){var e=v.useContext(Ot);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function Je(e){var n,r=k(),t=r.classNames,o=r.styles,s=r.components,l=me().goToMonth,i=function(u){l(L(u,e.displayIndex?-e.displayIndex:0))},c=(n=s==null?void 0:s.CaptionLabel)!==null&&n!==void 0?n:St,d=a.jsx(c,{id:e.id,displayMonth:e.displayMonth});return a.jsxs("div",{className:t.caption_dropdowns,style:o.caption_dropdowns,children:[a.jsx("div",{className:t.vhidden,children:d}),a.jsx(on,{onChange:i,displayMonth:e.displayMonth}),a.jsx(an,{onChange:i,displayMonth:e.displayMonth})]})}function mn(e){return a.jsx("svg",w({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:a.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function hn(e){return a.jsx("svg",w({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:a.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var ge=v.forwardRef(function(e,n){var r=k(),t=r.classNames,o=r.styles,s=[t.button_reset,t.button];e.className&&s.push(e.className);var l=s.join(" "),i=w(w({},o.button_reset),o.button);return e.style&&Object.assign(i,e.style),a.jsx("button",w({},e,{ref:n,type:"button",className:l,style:i}))});function pn(e){var n,r,t=k(),o=t.dir,s=t.locale,l=t.classNames,i=t.styles,c=t.labels,d=c.labelPrevious,u=c.labelNext,f=t.components;if(!e.nextMonth&&!e.previousMonth)return a.jsx(a.Fragment,{});var m=d(e.previousMonth,{locale:s}),p=[l.nav_button,l.nav_button_previous].join(" "),h=u(e.nextMonth,{locale:s}),_=[l.nav_button,l.nav_button_next].join(" "),b=(n=f==null?void 0:f.IconRight)!==null&&n!==void 0?n:hn,C=(r=f==null?void 0:f.IconLeft)!==null&&r!==void 0?r:mn;return a.jsxs("div",{className:l.nav,style:i.nav,children:[!e.hidePrevious&&a.jsx(ge,{name:"previous-month","aria-label":m,className:p,style:i.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:o==="rtl"?a.jsx(b,{className:l.nav_icon,style:i.nav_icon}):a.jsx(C,{className:l.nav_icon,style:i.nav_icon})}),!e.hideNext&&a.jsx(ge,{name:"next-month","aria-label":h,className:_,style:i.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:o==="rtl"?a.jsx(C,{className:l.nav_icon,style:i.nav_icon}):a.jsx(b,{className:l.nav_icon,style:i.nav_icon})})]})}function Qe(e){var n=k().numberOfMonths,r=me(),t=r.previousMonth,o=r.nextMonth,s=r.goToMonth,l=r.displayMonths,i=l.findIndex(function(h){return Ie(e.displayMonth,h)}),c=i===0,d=i===l.length-1,u=n>1&&(c||!d),f=n>1&&(d||!c),m=function(){t&&s(t)},p=function(){o&&s(o)};return a.jsx(pn,{displayMonth:e.displayMonth,hideNext:u,hidePrevious:f,nextMonth:o,previousMonth:t,onPreviousClick:m,onNextClick:p})}function yn(e){var n,r=k(),t=r.classNames,o=r.disableNavigation,s=r.styles,l=r.captionLayout,i=r.components,c=(n=i==null?void 0:i.CaptionLabel)!==null&&n!==void 0?n:St,d;return o?d=a.jsx(c,{id:e.id,displayMonth:e.displayMonth}):l==="dropdown"?d=a.jsx(Je,{displayMonth:e.displayMonth,id:e.id}):l==="dropdown-buttons"?d=a.jsxs(a.Fragment,{children:[a.jsx(Je,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),a.jsx(Qe,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):d=a.jsxs(a.Fragment,{children:[a.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),a.jsx(Qe,{displayMonth:e.displayMonth,id:e.id})]}),a.jsx("div",{className:t.caption,style:s.caption,children:d})}function gn(e){var n=k(),r=n.footer,t=n.styles,o=n.classNames.tfoot;return r?a.jsx("tfoot",{className:o,style:t.tfoot,children:a.jsx("tr",{children:a.jsx("td",{colSpan:8,children:r})})}):a.jsx(a.Fragment,{})}function xn(e,n,r){for(var t=r?Ee(new Date):We(new Date,{locale:e,weekStartsOn:n}),o=[],s=0;s<7;s++){var l=I(t,s);o.push(l)}return o}function bn(){var e=k(),n=e.classNames,r=e.styles,t=e.showWeekNumber,o=e.locale,s=e.weekStartsOn,l=e.ISOWeek,i=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,d=xn(o,s,l);return a.jsxs("tr",{style:r.head_row,className:n.head_row,children:[t&&a.jsx("td",{style:r.head_cell,className:n.head_cell}),d.map(function(u,f){return a.jsx("th",{scope:"col",className:n.head_cell,style:r.head_cell,"aria-label":c(u,{locale:o}),children:i(u,{locale:o})},f)})]})}function _n(){var e,n=k(),r=n.classNames,t=n.styles,o=n.components,s=(e=o==null?void 0:o.HeadRow)!==null&&e!==void 0?e:bn;return a.jsx("thead",{style:t.head,className:r.head,children:a.jsx(s,{})})}function wn(e){var n=k(),r=n.locale,t=n.formatters.formatDay;return a.jsx(a.Fragment,{children:t(e.date,{locale:r})})}var Ae=v.createContext(void 0);function Nn(e){if(!fe(e.initialProps)){var n={selected:void 0,modifiers:{disabled:[]}};return a.jsx(Ae.Provider,{value:n,children:e.children})}return a.jsx(jn,{initialProps:e.initialProps,children:e.children})}function jn(e){var n=e.initialProps,r=e.children,t=n.selected,o=n.min,s=n.max,l=function(d,u,f){var m,p;(m=n.onDayClick)===null||m===void 0||m.call(n,d,u,f);var h=!!(u.selected&&o&&(t==null?void 0:t.length)===o);if(!h){var _=!!(!u.selected&&s&&(t==null?void 0:t.length)===s);if(!_){var b=t?kt([],t):[];if(u.selected){var C=b.findIndex(function(M){return R(d,M)});b.splice(C,1)}else b.push(d);(p=n.onSelect)===null||p===void 0||p.call(n,b,d,u,f)}}},i={disabled:[]};t&&i.disabled.push(function(d){var u=s&&t.length>s-1,f=t.some(function(m){return R(m,d)});return!!(u&&!f)});var c={selected:t,onDayClick:l,modifiers:i};return a.jsx(Ae.Provider,{value:c,children:r})}function Le(){var e=v.useContext(Ae);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function Cn(e,n){var r=n||{},t=r.from,o=r.to;return t&&o?R(o,e)&&R(t,e)?void 0:R(o,e)?{from:o,to:void 0}:R(t,e)?void 0:Te(t,e)?{from:e,to:o}:{from:t,to:e}:o?Te(e,o)?{from:o,to:e}:{from:e,to:o}:t?dt(e,t)?{from:e,to:t}:{from:t,to:e}:{from:e,to:void 0}}var Be=v.createContext(void 0);function kn(e){if(!ve(e.initialProps)){var n={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return a.jsx(Be.Provider,{value:n,children:e.children})}return a.jsx(Mn,{initialProps:e.initialProps,children:e.children})}function Mn(e){var n=e.initialProps,r=e.children,t=n.selected,o=t||{},s=o.from,l=o.to,i=n.min,c=n.max,d=function(p,h,_){var b,C;(b=n.onDayClick)===null||b===void 0||b.call(n,p,h,_);var M=Cn(p,t);(C=n.onSelect)===null||C===void 0||C.call(n,M,p,h,_)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(s?(u.range_start=[s],l?(u.range_end=[l],R(s,l)||(u.range_middle=[{after:s,before:l}])):u.range_end=[s]):l&&(u.range_start=[l],u.range_end=[l]),i&&(s&&!l&&u.disabled.push({after:Ce(s,i-1),before:I(s,i-1)}),s&&l&&u.disabled.push({after:s,before:I(s,i-1)}),!s&&l&&u.disabled.push({after:Ce(l,i-1),before:I(l,i-1)})),c){if(s&&!l&&(u.disabled.push({before:I(s,-c+1)}),u.disabled.push({after:I(s,c-1)})),s&&l){var f=H(l,s)+1,m=c-f;u.disabled.push({before:Ce(s,m)}),u.disabled.push({after:I(l,m)})}!s&&l&&(u.disabled.push({before:I(l,-c+1)}),u.disabled.push({after:I(l,c-1)}))}return a.jsx(Be.Provider,{value:{selected:t,onDayClick:d,modifiers:u},children:r})}function Ye(){var e=v.useContext(Be);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function ye(e){return Array.isArray(e)?kt([],e):e!==void 0?[e]:[]}function Sn(e){var n={};return Object.entries(e).forEach(function(r){var t=r[0],o=r[1];n[t]=ye(o)}),n}var A;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(A||(A={}));var Pn=A.Selected,Y=A.Disabled,On=A.Hidden,Dn=A.Today,Me=A.RangeEnd,Se=A.RangeMiddle,Pe=A.RangeStart,Tn=A.Outside;function Rn(e,n,r){var t,o=(t={},t[Pn]=ye(e.selected),t[Y]=ye(e.disabled),t[On]=ye(e.hidden),t[Dn]=[e.today],t[Me]=[],t[Se]=[],t[Pe]=[],t[Tn]=[],t);return e.fromDate&&o[Y].push({before:e.fromDate}),e.toDate&&o[Y].push({after:e.toDate}),fe(e)?o[Y]=o[Y].concat(n.modifiers[Y]):ve(e)&&(o[Y]=o[Y].concat(r.modifiers[Y]),o[Pe]=r.modifiers[Pe],o[Se]=r.modifiers[Se],o[Me]=r.modifiers[Me]),o}var Dt=v.createContext(void 0);function In(e){var n=k(),r=Le(),t=Ye(),o=Rn(n,r,t),s=Sn(n.modifiers),l=w(w({},o),s);return a.jsx(Dt.Provider,{value:l,children:e.children})}function Tt(){var e=v.useContext(Dt);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function En(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function Wn(e){return!!(e&&typeof e=="object"&&"from"in e)}function Fn(e){return!!(e&&typeof e=="object"&&"after"in e)}function An(e){return!!(e&&typeof e=="object"&&"before"in e)}function Ln(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function Bn(e,n){var r,t=n.from,o=n.to;if(t&&o){var s=H(o,t)<0;s&&(r=[o,t],t=r[0],o=r[1]);var l=H(e,t)>=0&&H(o,e)>=0;return l}return o?R(o,e):t?R(t,e):!1}function Yn(e){return vt(e)}function Hn(e){return Array.isArray(e)&&e.every(vt)}function zn(e,n){return n.some(function(r){if(typeof r=="boolean")return r;if(Yn(r))return R(e,r);if(Hn(r))return r.includes(e);if(Wn(r))return Bn(e,r);if(Ln(r))return r.dayOfWeek.includes(e.getDay());if(En(r)){var t=H(r.before,e),o=H(r.after,e),s=t>0,l=o<0,i=Te(r.before,r.after);return i?l&&s:s||l}return Fn(r)?H(e,r.after)>0:An(r)?H(r.before,e)>0:typeof r=="function"?r(e):!1})}function He(e,n,r){var t=Object.keys(n).reduce(function(s,l){var i=n[l];return zn(e,i)&&s.push(l),s},[]),o={};return t.forEach(function(s){return o[s]=!0}),r&&!Ie(e,r)&&(o.outside=!0),o}function qn(e,n){for(var r=E(e[0]),t=Re(e[e.length-1]),o,s,l=r;l<=t;){var i=He(l,n),c=!i.disabled&&!i.hidden;if(!c){l=I(l,1);continue}if(i.selected)return l;i.today&&!s&&(s=l),o||(o=l),l=I(l,1)}return s||o}var $n=365;function Rt(e,n){var r=n.moveBy,t=n.direction,o=n.context,s=n.modifiers,l=n.retry,i=l===void 0?{count:0,lastFocused:e}:l,c=o.weekStartsOn,d=o.fromDate,u=o.toDate,f=o.locale,m={day:I,week:De,month:L,year:mr,startOfWeek:function(b){return o.ISOWeek?Ee(b):We(b,{locale:f,weekStartsOn:c})},endOfWeek:function(b){return o.ISOWeek?ut(b):ft(b,{locale:f,weekStartsOn:c})}},p=m[r](e,t==="after"?1:-1);t==="before"&&d?p=hr([d,p]):t==="after"&&u&&(p=pr([u,p]));var h=!0;if(s){var _=He(p,s);h=!_.disabled&&!_.hidden}return h?p:i.count>$n?i.lastFocused:Rt(p,{moveBy:r,direction:t,context:o,modifiers:s,retry:w(w({},i),{count:i.count+1})})}var It=v.createContext(void 0);function Kn(e){var n=me(),r=Tt(),t=v.useState(),o=t[0],s=t[1],l=v.useState(),i=l[0],c=l[1],d=qn(n.displayMonths,r),u=o??(i&&n.isDateDisplayed(i))?i:d,f=function(){c(o),s(void 0)},m=function(b){s(b)},p=k(),h=function(b,C){if(o){var M=Rt(o,{moveBy:b,direction:C,context:p,modifiers:r});R(o,M)||(n.goToDate(M,o),m(M))}},_={focusedDay:o,focusTarget:u,blur:f,focus:m,focusDayAfter:function(){return h("day","after")},focusDayBefore:function(){return h("day","before")},focusWeekAfter:function(){return h("week","after")},focusWeekBefore:function(){return h("week","before")},focusMonthBefore:function(){return h("month","before")},focusMonthAfter:function(){return h("month","after")},focusYearBefore:function(){return h("year","before")},focusYearAfter:function(){return h("year","after")},focusStartOfWeek:function(){return h("startOfWeek","before")},focusEndOfWeek:function(){return h("endOfWeek","after")}};return a.jsx(It.Provider,{value:_,children:e.children})}function ze(){var e=v.useContext(It);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function Vn(e,n){var r=Tt(),t=He(e,r,n);return t}var qe=v.createContext(void 0);function Un(e){if(!be(e.initialProps)){var n={selected:void 0};return a.jsx(qe.Provider,{value:n,children:e.children})}return a.jsx(Gn,{initialProps:e.initialProps,children:e.children})}function Gn(e){var n=e.initialProps,r=e.children,t=function(s,l,i){var c,d,u;if((c=n.onDayClick)===null||c===void 0||c.call(n,s,l,i),l.selected&&!n.required){(d=n.onSelect)===null||d===void 0||d.call(n,void 0,s,l,i);return}(u=n.onSelect)===null||u===void 0||u.call(n,s,s,l,i)},o={selected:n.selected,onDayClick:t};return a.jsx(qe.Provider,{value:o,children:r})}function Et(){var e=v.useContext(qe);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function Zn(e,n){var r=k(),t=Et(),o=Le(),s=Ye(),l=ze(),i=l.focusDayAfter,c=l.focusDayBefore,d=l.focusWeekAfter,u=l.focusWeekBefore,f=l.blur,m=l.focus,p=l.focusMonthBefore,h=l.focusMonthAfter,_=l.focusYearBefore,b=l.focusYearAfter,C=l.focusStartOfWeek,M=l.focusEndOfWeek,B=function(y){var g,ee,se,S;be(r)?(g=t.onDayClick)===null||g===void 0||g.call(t,e,n,y):fe(r)?(ee=o.onDayClick)===null||ee===void 0||ee.call(o,e,n,y):ve(r)?(se=s.onDayClick)===null||se===void 0||se.call(s,e,n,y):(S=r.onDayClick)===null||S===void 0||S.call(r,e,n,y)},he=function(y){var g;m(e),(g=r.onDayFocus)===null||g===void 0||g.call(r,e,n,y)},oe=function(y){var g;f(),(g=r.onDayBlur)===null||g===void 0||g.call(r,e,n,y)},Q=function(y){var g;(g=r.onDayMouseEnter)===null||g===void 0||g.call(r,e,n,y)},pe=function(y){var g;(g=r.onDayMouseLeave)===null||g===void 0||g.call(r,e,n,y)},z=function(y){var g;(g=r.onDayPointerEnter)===null||g===void 0||g.call(r,e,n,y)},U=function(y){var g;(g=r.onDayPointerLeave)===null||g===void 0||g.call(r,e,n,y)},X=function(y){var g;(g=r.onDayTouchCancel)===null||g===void 0||g.call(r,e,n,y)},D=function(y){var g;(g=r.onDayTouchEnd)===null||g===void 0||g.call(r,e,n,y)},q=function(y){var g;(g=r.onDayTouchMove)===null||g===void 0||g.call(r,e,n,y)},_e=function(y){var g;(g=r.onDayTouchStart)===null||g===void 0||g.call(r,e,n,y)},we=function(y){var g;(g=r.onDayKeyUp)===null||g===void 0||g.call(r,e,n,y)},Ne=function(y){var g;switch(y.key){case"ArrowLeft":y.preventDefault(),y.stopPropagation(),r.dir==="rtl"?i():c();break;case"ArrowRight":y.preventDefault(),y.stopPropagation(),r.dir==="rtl"?c():i();break;case"ArrowDown":y.preventDefault(),y.stopPropagation(),d();break;case"ArrowUp":y.preventDefault(),y.stopPropagation(),u();break;case"PageUp":y.preventDefault(),y.stopPropagation(),y.shiftKey?_():p();break;case"PageDown":y.preventDefault(),y.stopPropagation(),y.shiftKey?b():h();break;case"Home":y.preventDefault(),y.stopPropagation(),C();break;case"End":y.preventDefault(),y.stopPropagation(),M();break}(g=r.onDayKeyDown)===null||g===void 0||g.call(r,e,n,y)},ae={onClick:B,onFocus:he,onBlur:oe,onKeyDown:Ne,onKeyUp:we,onMouseEnter:Q,onMouseLeave:pe,onPointerEnter:z,onPointerLeave:U,onTouchCancel:X,onTouchEnd:D,onTouchMove:q,onTouchStart:_e};return ae}function Jn(){var e=k(),n=Et(),r=Le(),t=Ye(),o=be(e)?n.selected:fe(e)?r.selected:ve(e)?t.selected:void 0;return o}function Qn(e){return Object.values(A).includes(e)}function Xn(e,n){var r=[e.classNames.day];return Object.keys(n).forEach(function(t){var o=e.modifiersClassNames[t];if(o)r.push(o);else if(Qn(t)){var s=e.classNames["day_".concat(t)];s&&r.push(s)}}),r}function eo(e,n){var r=w({},e.styles.day);return Object.keys(n).forEach(function(t){var o;r=w(w({},r),(o=e.modifiersStyles)===null||o===void 0?void 0:o[t])}),r}function to(e,n,r){var t,o,s,l=k(),i=ze(),c=Vn(e,n),d=Zn(e,c),u=Jn(),f=!!(l.onDayClick||l.mode!=="default");v.useEffect(function(){var Q;c.outside||i.focusedDay&&f&&R(i.focusedDay,e)&&((Q=r.current)===null||Q===void 0||Q.focus())},[i.focusedDay,e,r,f,c.outside]);var m=Xn(l,c).join(" "),p=eo(l,c),h=!!(c.outside&&!l.showOutsideDays||c.hidden),_=(s=(o=l.components)===null||o===void 0?void 0:o.DayContent)!==null&&s!==void 0?s:wn,b=a.jsx(_,{date:e,displayMonth:n,activeModifiers:c}),C={style:p,className:m,children:b,role:"gridcell"},M=i.focusTarget&&R(i.focusTarget,e)&&!c.outside,B=i.focusedDay&&R(i.focusedDay,e),he=w(w(w({},C),(t={disabled:c.disabled,role:"gridcell"},t["aria-selected"]=c.selected,t.tabIndex=B||M?0:-1,t)),d),oe={isButton:f,isHidden:h,activeModifiers:c,selectedDays:u,buttonProps:he,divProps:C};return oe}function ro(e){var n=v.useRef(null),r=to(e.date,e.displayMonth,n);return r.isHidden?a.jsx("div",{role:"gridcell"}):r.isButton?a.jsx(ge,w({name:"day",ref:n},r.buttonProps)):a.jsx("div",w({},r.divProps))}function no(e){var n=e.number,r=e.dates,t=k(),o=t.onWeekNumberClick,s=t.styles,l=t.classNames,i=t.locale,c=t.labels.labelWeekNumber,d=t.formatters.formatWeekNumber,u=d(Number(n),{locale:i});if(!o)return a.jsx("span",{className:l.weeknumber,style:s.weeknumber,children:u});var f=c(Number(n),{locale:i}),m=function(p){o(n,r,p)};return a.jsx(ge,{name:"week-number","aria-label":f,className:l.weeknumber,style:s.weeknumber,onClick:m,children:u})}function oo(e){var n,r,t=k(),o=t.styles,s=t.classNames,l=t.showWeekNumber,i=t.components,c=(n=i==null?void 0:i.Day)!==null&&n!==void 0?n:ro,d=(r=i==null?void 0:i.WeekNumber)!==null&&r!==void 0?r:no,u;return l&&(u=a.jsx("td",{className:s.cell,style:o.cell,children:a.jsx(d,{number:e.weekNumber,dates:e.dates})})),a.jsxs("tr",{className:s.row,style:o.row,children:[u,e.dates.map(function(f){return a.jsx("td",{className:s.cell,style:o.cell,role:"presentation",children:a.jsx(c,{displayMonth:e.displayMonth,date:f})},vr(f))})]})}function Xe(e,n,r){for(var t=r!=null&&r.ISOWeek?ut(n):ft(n,r),o=r!=null&&r.ISOWeek?Ee(e):We(e,r),s=H(t,o),l=[],i=0;i<=s;i++)l.push(I(o,i));var c=l.reduce(function(d,u){var f=r!=null&&r.ISOWeek?xr(u):br(u,r),m=d.find(function(p){return p.weekNumber===f});return m?(m.dates.push(u),d):(d.push({weekNumber:f,dates:[u]}),d)},[]);return c}function ao(e,n){var r=Xe(E(e),Re(e),n);if(n!=null&&n.useFixedWeeks){var t=fr(e,n);if(t<6){var o=r[r.length-1],s=o.dates[o.dates.length-1],l=De(s,6-t),i=Xe(De(s,1),l,n);r.push.apply(r,i)}}return r}function so(e){var n,r,t,o=k(),s=o.locale,l=o.classNames,i=o.styles,c=o.hideHead,d=o.fixedWeeks,u=o.components,f=o.weekStartsOn,m=o.firstWeekContainsDate,p=o.ISOWeek,h=ao(e.displayMonth,{useFixedWeeks:!!d,ISOWeek:p,locale:s,weekStartsOn:f,firstWeekContainsDate:m}),_=(n=u==null?void 0:u.Head)!==null&&n!==void 0?n:_n,b=(r=u==null?void 0:u.Row)!==null&&r!==void 0?r:oo,C=(t=u==null?void 0:u.Footer)!==null&&t!==void 0?t:gn;return a.jsxs("table",{id:e.id,className:l.table,style:i.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&a.jsx(_,{}),a.jsx("tbody",{className:l.tbody,style:i.tbody,children:h.map(function(M){return a.jsx(b,{displayMonth:e.displayMonth,dates:M.dates,weekNumber:M.weekNumber},M.weekNumber)})}),a.jsx(C,{displayMonth:e.displayMonth})]})}function lo(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var io=lo()?v.useLayoutEffect:v.useEffect,Oe=!1,co=0;function et(){return"react-day-picker-".concat(++co)}function uo(e){var n,r=e??(Oe?et():null),t=v.useState(r),o=t[0],s=t[1];return io(function(){o===null&&s(et())},[]),v.useEffect(function(){Oe===!1&&(Oe=!0)},[]),(n=e??o)!==null&&n!==void 0?n:void 0}function fo(e){var n,r,t=k(),o=t.dir,s=t.classNames,l=t.styles,i=t.components,c=me().displayMonths,d=uo(t.id?"".concat(t.id,"-").concat(e.displayIndex):void 0),u=t.id?"".concat(t.id,"-grid-").concat(e.displayIndex):void 0,f=[s.month],m=l.month,p=e.displayIndex===0,h=e.displayIndex===c.length-1,_=!p&&!h;o==="rtl"&&(n=[p,h],h=n[0],p=n[1]),p&&(f.push(s.caption_start),m=w(w({},m),l.caption_start)),h&&(f.push(s.caption_end),m=w(w({},m),l.caption_end)),_&&(f.push(s.caption_between),m=w(w({},m),l.caption_between));var b=(r=i==null?void 0:i.Caption)!==null&&r!==void 0?r:yn;return a.jsxs("div",{className:f.join(" "),style:m,children:[a.jsx(b,{id:d,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),a.jsx(so,{id:u,"aria-labelledby":d,displayMonth:e.displayMonth})]},e.displayIndex)}function vo(e){var n=k(),r=n.classNames,t=n.styles;return a.jsx("div",{className:r.months,style:t.months,children:e.children})}function mo(e){var n,r,t=e.initialProps,o=k(),s=ze(),l=me(),i=v.useState(!1),c=i[0],d=i[1];v.useEffect(function(){o.initialFocus&&s.focusTarget&&(c||(s.focus(s.focusTarget),d(!0)))},[o.initialFocus,c,s.focus,s.focusTarget,s]);var u=[o.classNames.root,o.className];o.numberOfMonths>1&&u.push(o.classNames.multiple_months),o.showWeekNumber&&u.push(o.classNames.with_weeknumber);var f=w(w({},o.styles.root),o.style),m=Object.keys(t).filter(function(h){return h.startsWith("data-")}).reduce(function(h,_){var b;return w(w({},h),(b={},b[_]=t[_],b))},{}),p=(r=(n=t.components)===null||n===void 0?void 0:n.Months)!==null&&r!==void 0?r:vo;return a.jsx("div",w({className:u.join(" "),style:f,dir:o.dir,id:o.id,nonce:t.nonce,title:t.title,lang:t.lang},m,{children:a.jsx(p,{children:l.displayMonths.map(function(h,_){return a.jsx(fo,{displayIndex:_,displayMonth:h},_)})})}))}function ho(e){var n=e.children,r=Fr(e,["children"]);return a.jsx(rn,{initialProps:r,children:a.jsx(vn,{children:a.jsx(Un,{initialProps:r,children:a.jsx(Nn,{initialProps:r,children:a.jsx(kn,{initialProps:r,children:a.jsx(In,{children:a.jsx(Kn,{children:n})})})})})})})}function po(e){return a.jsx(ho,w({},e,{children:a.jsx(mo,{initialProps:e})}))}function Wt({className:e,classNames:n,showOutsideDays:r=!0,...t}){return a.jsx(po,{showOutsideDays:r,className:ce("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:ce(Ve({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:ce(Ve({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...n},components:{IconLeft:({...o})=>a.jsx(rr,{className:"h-4 w-4"}),IconRight:({...o})=>a.jsx(tr,{className:"h-4 w-4"})},...t})}Wt.displayName="Calendar";function yo({value:e,onChange:n}){const[r,t]=v.useState((e==null?void 0:e.frequency)||"weekly"),[o,s]=v.useState((e==null?void 0:e.interval)||1),[l,i]=v.useState(e==null?void 0:e.endDate),[c,d]=v.useState((e==null?void 0:e.daysOfWeek)||[]),[u,f]=v.useState(!1);v.useEffect(()=>{n({frequency:r,interval:Math.max(1,o||1),endDate:l,daysOfWeek:r==="weekly"||r==="custom"?c:void 0})},[r,o,l,c,n]);const m=h=>{d(_=>_.includes(h)?_.filter(b=>b!==h):[..._,h].sort((b,C)=>b-C))},p=["Su","M","Tu","W","Th","F","Sa"];return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(F,{htmlFor:"frequency",children:"Recurrence"}),a.jsxs(st,{value:r,onValueChange:h=>{t(h),h!=="weekly"&&h!=="custom"&&d([])},children:[a.jsx(lt,{id:"frequency",children:a.jsx(it,{placeholder:"Select frequency"})}),a.jsxs(ct,{children:[a.jsx(J,{value:"daily",children:"Daily"}),a.jsx(J,{value:"weekdays",children:"Weekdays"}),a.jsx(J,{value:"weekly",children:"Weekly"}),a.jsx(J,{value:"monthly",children:"Monthly"}),a.jsx(J,{value:"yearly",children:"Yearly"}),a.jsx(J,{value:"custom",children:"Custom"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(F,{htmlFor:"interval",children:"Every"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(le,{id:"interval",type:"number",min:"1",value:o,onChange:h=>s(parseInt(h.target.value)||1),className:"w-20"}),a.jsx("span",{className:"whitespace-nowrap",children:o===1?r==="daily"?"day":r==="weekly"?"week":r==="monthly"?"month":"year":r==="daily"?"days":r==="weekly"?"weeks":r==="monthly"?"months":"years"})]})]})]}),(r==="weekly"||r==="custom")&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(F,{children:"On days"}),a.jsx("div",{className:"flex space-x-1",children:p.map((h,_)=>a.jsx($,{type:"button",variant:c.includes(_)?"default":"outline",size:"sm",className:"h-8 w-8 p-0 flex-shrink-0",onClick:()=>m(_),children:h},_))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(F,{children:"Ends"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx($,{variant:l?"outline":"default",size:"sm",onClick:()=>{i(void 0),f(!1)},children:"Never"}),a.jsxs(Er,{open:u,onOpenChange:f,children:[a.jsx(Wr,{asChild:!0,children:a.jsxs($,{variant:l?"default":"outline",size:"sm",className:ce("justify-start text-left font-normal",!l&&"text-muted-foreground"),children:[a.jsx(nr,{className:"mr-2 h-4 w-4"}),l?K(l,"PPP"):a.jsx("span",{children:"Pick a date"})]})}),a.jsx(Ct,{className:"w-auto p-0",align:"start",children:a.jsx(Wt,{mode:"single",selected:l,onSelect:h=>{i(h),f(!1)},initialFocus:!0})})]})]})]})]})}function wo({isOpen:e,onClose:n,date:r,initialData:t,onSave:o}){const[s,l]=v.useState((t==null?void 0:t.title)||""),[i,c]=v.useState((t==null?void 0:t.description)||""),[d,u]=v.useState((t==null?void 0:t.startTime)||"09:00"),[f,m]=v.useState((t==null?void 0:t.endTime)||"10:00"),[p,h]=v.useState((t==null?void 0:t.category)||"work"),[_,b]=v.useState((t==null?void 0:t.isRecurring)||!1),[,C]=v.useState(""),[M,B]=v.useState(!1),[he,oe]=v.useState(!1),[Q,pe]=v.useState({show:!1,conflicts:[]}),[z,U]=v.useState(t==null?void 0:t.taskId),X={frequency:"weekly",interval:1,count:void 0,endDate:void 0,daysOfWeek:[new Date(r).getDay()],exceptions:[]},[D,q]=v.useState(t!=null&&t.recurrenceRule?je(t.recurrenceRule):X),_e=v.useCallback(x=>{q(j=>({...j,...x,daysOfWeek:x.daysOfWeek||j.daysOfWeek,exceptions:x.exceptions||j.exceptions}))},[]),we=v.useCallback(x=>{try{return or(x)||void 0}catch(j){console.error("Error converting recurrence rule:",j);return}},[]),Ne=v.useCallback(x=>{x||n()},[n]);v.useCallback(()=>{n()},[n]),v.useEffect(()=>{t?(l(t.title),c(t.description||""),u(t.startTime),m(t.endTime),h(t.category||"work"),b(t.isRecurring||!1),U(t.taskId),t.recurrenceRule&&q(je(t.recurrenceRule))):(l(""),c(""),u("09:00"),m("10:00"),h("work"),b(!1),U(void 0),q(X)),C(""),oe(!1),pe({show:!1,conflicts:[]})},[t,r]);const ae=Ze(()=>{const x=new Date(r);x.setHours(0,0,0,0);const j=new Date(r);return j.setHours(23,59,59,999),Z.tasks.where("date").between(x,j,!0,!0).toArray()},[r]),y=Ze(()=>Z.timeSlots.where("date").equals(r).toArray(),[r]),g=(x,j,W,P)=>{const N=At=>{const[Lt,Bt]=At.split(":").map(Number);return Lt*60+Bt},T=N(x),O=N(j),te=N(W),G=N(P);return T<G&&te<O},ee=(x,j)=>{if(!y)return null;const W=parseInt(x.split(":")[0])*60+parseInt(x.split(":")[1]);if(parseInt(j.split(":")[0])*60+parseInt(j.split(":")[1])<=W)return{message:"End time must be after start time"};for(const N of y)if(g(x,j,N.startTime,N.endTime))return{message:`Time conflict with existing slot: "${N.title}" (${N.startTime} - ${N.endTime})`,conflictingSlot:N};return null},se=()=>{if(!y)return null;const x=N=>{const[T,O]=N.split(":").map(Number);return T*60+O},j=N=>{const T=Math.floor(N/60),O=N%60;return`${T.toString().padStart(2,"0")}:${O.toString().padStart(2,"0")}`},W=x(f)-x(d);if(W<=0)return null;const P=[...y].sort((N,T)=>N.startTime.localeCompare(T.startTime));for(let N=0;N<P.length-1;N++){const T=x(P[N].endTime);if(x(P[N+1].startTime)-T>=W)return{start:j(T),end:j(T+W)}}if(P.length>0){const N=x(P[P.length-1].endTime);if(N+W<=24*60)return{start:j(N),end:j(N+W)}}return P.length===0?{start:"09:00",end:j(9*60+W)}:null},S=v.useMemo(()=>!d||!f||!y?null:ee(d,f),[d,f,y,ee]),Ft=v.useCallback(async()=>{var x;if((x=S==null?void 0:S.conflictingSlot)!=null&&x.id)try{return await Z.timeSlots.delete(S.conflictingSlot.id),re({title:"Conflicting Slot Deleted",description:`Deleted "${S.conflictingSlot.title}" to resolve conflict.`,variant:"default"}),!0}catch(j){return console.error("Failed to delete conflicting slot:",j),re({title:"Error",description:"Failed to delete conflicting slot.",variant:"destructive"}),!1}return!1},[S]),$e=v.useCallback(()=>{t?(l(t.title||""),c(t.description||""),u(t.startTime||"09:00"),m(t.endTime||"10:00"),h(t.category||"work"),b(t.isRecurring||!1),U(t.taskId),t.recurrenceRule?q(je(t.recurrenceRule)):q(X)):(l(""),c(""),u("09:00"),m("10:00"),h("work"),b(!1),U(void 0),q(X))},[t]);v.useEffect(()=>{$e()},[t,r,$e]);const Ke=async(x=!1)=>{if(!s||!d||!f){re({title:"Error",description:"Please fill in all required fields",variant:"destructive"});return}if(f<=d){re({title:"Error",description:"End time must be after start time",variant:"destructive"});return}try{B(!0);const j={title:s,description:i,startTime:d,endTime:f,date:r,category:p,isRecurring:_,taskId:z,recurrenceRule:_?we(D):void 0,parentId:t==null?void 0:t.parentId,completed:(t==null?void 0:t.completed)||!1,createdAt:(t==null?void 0:t.createdAt)||new Date,updatedAt:new Date};if(!x){const P=[{id:t==null?void 0:t.id,startTime:d,endTime:f,date:r}],T=(await Promise.all(P.map(async O=>{const te=await Z.timeSlots.where("date").equals(O.date).filter(G=>G.id!==O.id&&g(G.startTime,G.endTime,O.startTime,O.endTime)).toArray();return{slot:O,conflicts:te}}))).filter(({conflicts:O})=>O.length>0);if(T.length>0){C("There are time conflicts with existing time slots"),pe({show:!0,conflicts:T.flatMap(({slot:O,conflicts:te})=>te.map(G=>({slot:O,conflict:G})))});return}}if(t!=null&&t.id){if(await Z.timeSlots.update(t.id,j),_&&t.recurrenceRule){const P=await Z.timeSlots.where("parentId").equals(t.id).and(N=>new Date(N.date)>new Date(r)).toArray();for(const N of P)await Z.timeSlots.update(N.id,{...j,date:N.date,parentId:t.id,createdAt:N.createdAt,completed:N.completed})}re({title:"Time slot updated",description:"Your time slot has been updated successfully."})}else{const P={id:void 0,title:s,description:i,startTime:d,endTime:f,date:r,category:p,isRecurring:_,recurrenceRule:_?{...D,endDate:D!=null&&D.endDate?D.endDate.toISOString():void 0}:void 0,taskId:z,completed:!1,createdAt:new Date};await o(P),re({title:"Time slot created",description:"Your time slot has been created successfully."}),n(),B(!1);return}const W={id:t==null?void 0:t.id,title:s,description:i,startTime:d,endTime:f,date:r,category:p,isRecurring:_,recurrenceRule:_?{...D,endDate:D!=null&&D.endDate?D.endDate.toISOString():void 0}:void 0,taskId:z,completed:(t==null?void 0:t.completed)||!1,createdAt:t!=null&&t.createdAt?new Date(t.createdAt):new Date};await o(W),n()}catch(j){console.error("Error saving time slot:",j),C("An error occurred while saving the time slot. Please try again.")}finally{B(!1)}};return a.jsx(ar,{open:e,onOpenChange:Ne,children:a.jsxs(sr,{className:"sm:max-w-[600px]","aria-describedby":"time-slot-dialog-description",children:[a.jsxs(lr,{children:[a.jsx(ir,{children:t?"Edit Time Slot":"Add New Time Slot"}),a.jsx("p",{id:"time-slot-dialog-description",className:"sr-only",children:t?"Edit an existing time slot":"Create a new time slot"})]}),a.jsxs("div",{className:"grid gap-4 py-4",children:[a.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[a.jsx(F,{htmlFor:"title",className:"text-right",children:"Title"}),a.jsx(le,{id:"title",value:s,onChange:x=>l(x.target.value),className:"col-span-3"})]}),a.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[a.jsx(F,{htmlFor:"startTime",className:"text-right",children:"Start Time"}),a.jsx(le,{id:"startTime",type:"time",value:d,onChange:x=>u(x.target.value),className:"col-span-3"})]}),a.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[a.jsx(F,{htmlFor:"endTime",className:"text-right",children:"End Time"}),a.jsx(le,{id:"endTime",type:"time",value:f,onChange:x=>m(x.target.value),className:"col-span-3"})]}),a.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[a.jsx(F,{htmlFor:"category",className:"text-right",children:"Category"}),a.jsx(le,{id:"category",value:p,onChange:x=>h(x.target.value),placeholder:"e.g., Work, Personal",className:"col-span-3"})]}),a.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[a.jsx(F,{className:"text-right",children:"Recurring"}),a.jsxs("div",{className:"flex items-center space-x-2 col-span-3",children:[a.jsx("input",{type:"checkbox",id:"isRecurring",checked:_,onChange:x=>b(x.target.checked),className:"h-4 w-4 text-zenith-600 focus:ring-zenith-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"isRecurring",className:"text-sm text-gray-700",children:"This is a recurring event"})]})]}),_&&a.jsxs("div",{className:"grid grid-cols-4 items-start gap-4",children:[a.jsx(F,{className:"text-right pt-2",children:"Recurrence"}),a.jsx("div",{className:"col-span-3",children:a.jsx(yo,{value:D,onChange:_e})})]}),S&&a.jsxs("div",{className:"col-span-4 p-3 bg-destructive/10 border border-destructive/20 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 text-destructive",children:[a.jsx(_r,{className:"h-4 w-4"}),a.jsx("span",{className:"font-medium",children:"Time Conflict"})]}),a.jsx("p",{className:"text-sm text-destructive/80 mt-1",children:S==null?void 0:S.message})]}),y&&y.length>0&&a.jsxs("div",{className:"col-span-4 p-3 bg-muted/50 border border-border rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[a.jsx(cr,{className:"h-4 w-4"}),a.jsx("span",{className:"font-medium text-sm",children:"Existing Time Slots Today"})]}),a.jsx("div",{className:"space-y-1",children:y.sort((x,j)=>x.startTime.localeCompare(j.startTime)).map((x,j)=>a.jsxs("div",{className:"text-xs text-muted-foreground",children:[a.jsxs("span",{className:"font-medium",children:[x.startTime," - ",x.endTime]}),a.jsx("span",{className:"ml-2",children:x.title})]},j))})]}),a.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[a.jsx(F,{htmlFor:"task",className:"text-right",children:"Link Task"}),a.jsxs(st,{onValueChange:x=>U(Number(x)),value:z==null?void 0:z.toString(),children:[a.jsx(lt,{className:"col-span-3",children:a.jsx(it,{placeholder:"(Optional) Select a task"})}),a.jsx(ct,{children:ae==null?void 0:ae.map(x=>a.jsx(J,{value:x.id.toString(),children:x.title},x.id))})]})]})]}),a.jsxs(dr,{children:[a.jsx($,{variant:"outline",onClick:n,children:"Cancel"}),S?a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx($,{variant:"secondary",onClick:()=>{const x=se();x&&(u(x.start),m(x.end))},children:"Suggest Time"}),(S==null?void 0:S.conflictingSlot)&&a.jsx($,{variant:"outline",onClick:Ft,className:"border-destructive text-destructive hover:bg-destructive hover:text-destructive-foreground",children:"Delete Conflicting Slot"}),a.jsx($,{onClick:()=>Ke(!0),disabled:!s.trim(),variant:"destructive",children:"Force Save"})]}):a.jsx($,{onClick:()=>Ke(),disabled:!s.trim(),children:"Save"})]})]})})}export{wo as default};
//# sourceMappingURL=AddTimeSlotModal-BH9awQDt.js.map
